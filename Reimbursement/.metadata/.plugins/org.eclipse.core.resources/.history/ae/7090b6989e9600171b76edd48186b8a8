/**
 * 
 */
var login = false;
window.onload = function(){
	
	loadHomeView();
	
	if(login == false){
		$("#navbar").hide;
	}
	else{
		$("#navbar").show();
	};
	document.getElementById("homepage").addEventListener("click", loadDashBoardView);
	
	document.getElementById("reimbusePage").addEventListener("click", loadReimbursePageView);
	
};

function loadHomeView(){
	var xhr = new XMLHttpRequest();
	xhr.onreadystatechange = function(){
		if(xhr.readyState == 4 && xhr.status == 200){
			document.getElementById("view").innerHTML = xhr.responseText;
			document.getElementById("login").addEventListener("click", login);
			
			}
		}
	xhr.open("GET", "getLoginView", true);
	xhr.send();
};

function login(){
	var email = document.getElementById("email").value;
	var pwd = document.getElementById("pwd").value;
	var tx = [email, pwd];
	tx = JSON.stringify(tx);
	
	var xhr = new XMLHttpRequest();
	xhr.onreadystatechange = function(){
		if(xhr.readyState == 4 && xhr.status == 200){
			var response = xhr.responseText;
			
			if(response == "fail"){
				document.getElementById("message").innerHTML = "Invalid credentials. Try again";
			}
			else if (response == "pass"){
				document.getElementById("message").innerHTML = "invalid user, try agin";
			}
			else{
				login = true;
				console.log(response);
				loadDashboardView();
				$('#navbar').show();
				
			}
			
		}
	}
		xhr.open("POST", "login", true);
		xhr.setRequestHeader("Content-Type", "application/x-www-from-urlencoded");
		xhr.send(tx);
	};
	
function
