/**
 * 
 */

window.onload = function() {
	loadDashboardView();
}

// Views
function loadDashboardView() {
	var xhr = new XMLHttpRequest();
	xhr.onreadystatechange = function() {
		if (xhr.readyState == 4 && xhr.status == 200) {
			// Replace the "view" div with the xhr response
			document.getElementById("view").innerHTML = xhr.responseText;
			getUserInformation();
		}
	}
	xhr.open("GET", "getDashboardView", true);
	xhr.send();
}

function getUserInformation(){
	var xhr = new XMLHttpRequest();
	xhr.onreadystatechange = function(){
		if(xhr.readyState == 4 && xhr.status == 200){
			console.log(xhr.responseText);
			var dto = JSON.parse(xhr.responseText);
			var user = dto.user;
			var accounts = dto.accounts;
			
			document.getElementById('name')
				.innerHTML = user.firstName + " " + user.lastName;
			if (accounts.length == 0){
				document.getElementById("accounts").style.visibility = "hidden"; 
				console.log("null");
				console.log("accounts");
			}
			else{
				console.log("not null");
				console.log(accounts.length);
				populateAccountsTable(accounts);
			}
		}
	}
	xhr.open("GET", "getUserInfo", true);
	xhr.send();
	
}

	<tr ng-repeat="item in items">
		<td>{{ item.x }}</td>
		<td>{{ item.OP }}</td>
		<td>{{ item.y }}</td>
		<td>{{ item.z }}</td>
	

function populateAccoutnsTable(accounts) {
	var html = "";
	
	html += "<table class='table table-striped'><thead>	<th>ID</th>	<th>Date opened</th>	<th>Level</th>	<th>Type</th>	<th>Balance</th><tbody><tr>";

	html += "<td>item 1</td>	<td>item 2</td>	<td>item 3</td>	<td>item 4</td>	<td>item 5</td>	";
	
	html += "</tr></tbody></thead></table>";
	
	document.getElementById('account_table')
	.innerHTML = html;
}