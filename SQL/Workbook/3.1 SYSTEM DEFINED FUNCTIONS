
-- Create a function that returns the current time.
CREATE OR REPLACE FUNCTION TIME_NOW 
RETURN TIMESTAMP AS NOW TIMESTAMP;
BEGIN
  RETURN CURRENT_TIMESTAMP;
END;
/
SELECT TIME_NOW FROM DUAL;

-- Create a function that returns the length
-- of a mediatype from the mediatype table
CREATE OR REPLACE FUNCTION MEDIATYPE_LEN (TYPEID NUMBER)
RETURN NUMBER AS LEN NUMBER;
BEGIN
  SELECT LENGTH(NAME) INTO LEN FROM MEDIATYPE
  WHERE MEDIATYPEID = TYPEID;
  RETURN LEN;
END;
/
SELECT MEDIATYPE_LEN(2) FROM DUAL;
