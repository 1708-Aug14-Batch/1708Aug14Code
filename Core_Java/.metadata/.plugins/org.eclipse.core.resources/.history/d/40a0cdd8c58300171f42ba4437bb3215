package com.bank.pojos;

import com.bank.exceptions.InvalidSSNException;
import com.bank.exceptions.NoEmailException;

// Uses a single bank account
// Only has access to their own data

public class User extends Person {

	// Users do not have administrator privileges
	final boolean admin = false;

	// User is limited to only one account
	private final Account account;
	
	public User(Person person, Account account) throws InvalidSSNException, NoEmailException{
		super(person.getSSN(), person.getFirstName(), person.getLastName());
		if (person.getEmail().equals(""))
			throw new NoEmailException();
		this.account = account;
	}

	public boolean isAdmin() {
		return admin;
	}

	public Account getAccount() {
		return account;
	}
	
	public String toString() {
		return super.toString() + ":" + account.toString();
	}
	public static User fromString(String str) {
		String[] splitStr = str.split(":");

		Person per = new Person(splitStr[0], splitStr[1], splitStr[2]);
		per.setEmail(splitStr[3]);
		
		Account acc = new Account();

		return new User(per, acc);
	}
	
}
