package com.bank.service;

import java.util.ArrayList;

import com.bank.dao.*;
import com.bank.pojos.Person;
import com.bank.pojos.User;

public class Service {
	
	DAO dao = new DaoTextImpl();
	
	public boolean validateUser(String username, String password) {
		
		User guy = dao.readUser(username);
		
		if (guy.getAccount().isDeleted()) {
			System.out.println("This account has been deleted.");
			return false;
		}
		
		if (guy.getAccount().getPassword().equals(password))
			return true;
		else return false;
	}
	
	public boolean isEmailAvailable(String email) {
		
		ArrayList<Person> peopleList = dao.getAllPersons();
		
		for (Person guy : peopleList)
			if (guy.getEmail().equals(email))
				return false;
		
		return true;
	}
	// Always check whether the user has been deleted

}
