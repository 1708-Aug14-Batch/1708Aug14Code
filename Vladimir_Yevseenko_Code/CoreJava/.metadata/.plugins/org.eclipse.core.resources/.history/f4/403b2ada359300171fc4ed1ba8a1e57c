package com.revature.service;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpSession;

import com.revature.dao.DBDAO;
import com.revature.pojos.User;

public class Service {
	private DBDAO dao;
	private User curUser;
	
	public Service() {
		dao = new DBDAO();
	}
	
	public boolean attemptLogin(String email, String password) {
		return (curUser = dao.attemptLogin(email, password)) != null;
	}
	
	public boolean addUser(String first, String last, String email, String pass, boolean isManager) {
		return dao.addUser(new User(first, last, email, pass, isManager));
	}
	
	public User getCurUser() {
		return curUser;
	}
	
	
	public static void getFromSession(HttpSession ses) {
		Service serv = (Service) ses.getAttribute("service");
		if (serv == null)
			ses.setAttribute("service", new Service());
		return serv;
	}
}
